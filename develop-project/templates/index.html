<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Chatbot Medical</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-md-3 sidebar p-3">
                <div class="d-flex flex-column align-items-center">
                    <img src="/static/images/logo.png" class="avatar mb-2" alt="HCMUTE logo">
                    <button class="btn btn-primary mt-3 w-100" id="newConversationBtn">Cu·ªôc tr√≤ chuy·ªán m·ªõi +</button>
                </div>
                <div class="p-3" id="list_conversation">
                    <!--  -->
                </div>
            </div>


            <!-- Chat Area -->
            <div class="col-md-9 d-flex flex-column p-3">
                <div class="new_chat_area" id="new_chat_area">
                    <!-- Main chat area -->
                
                    <div class="text-center mb-4">
                        <div class="chat-header">Ch√†o b·∫°n <img src="/static/images/pam.png" width="50px" alt=""></div>
                        <div class="chat-subheader">M√¨nh c√≥ th·ªÉ gi√∫p g√¨ cho b·∫°n?</div>
                    </div>

                    <div class="input-area mb-4">
                        <form class="d-flex align-items-center w-100">
                            <textarea id="chat_input_new" class="form-control me-2  p-3" rows="1" placeholder="Nh·∫≠p tin nh·∫Øn..." maxlength="1000"></textarea>
                            <button type="submit" class="btn btn-primary  p-3"><i class="bi bi-send"></i> ‚û§</button>
                        </form>
                    </div>

                    <div class="related-questions mb-4">
                        <p class="fw-semibold">‚ú® C√°c c√¢u h·ªèi ph·ªï bi·∫øn</p>
                        <div class="d-flex flex-wrap">
                            <button class="btn btn-outline-warning popular-question" id="question_1">üíä D·ªãch v·ª• kh√°m, ƒëi·ªÅu tr·ªã b·ªánh tim m·∫°ch cho ng∆∞·ªùi l·ªõn</button>
                            <button class="btn btn-outline-info popular-question" id="question_2"> ‚õëÔ∏è Kh√°m ƒëau ƒë·∫ßu ph√°t hi·ªán ph√¨nh m·∫°ch m√°u n√£o</button>
                            <button class="btn btn-outline-danger popular-question" id="question_3">üè• Kh√°m, t·∫ßm so√°t & ƒêi·ªÅu tr·ªã b·ªánh tim b·∫©m sinh</button>
                            <button class="btn btn-outline-success popular-question" id="question_4">üò∑ Tri·ªÉn khai d·ªãch v·ª• ti√™m ch·ªßng</button>
                        </div>
                    </div>
                </div>
                
                <div class="sesion_chat_area" id="sesion_chat_area">
                    <!-- Ch·ªâ ph·∫ßn chat cu·ªôn --> 
                    <div class="chat-body"  id="sesion_chat_area_body"></div>

                    <div id="loadingIndicator" class="spinner-border text-primary" role="status" style="display: none;">
                        <span class="visually-hidden">Loading...</span>
                    </div>

                    <div class="chat-input">
                        <form class="d-flex align-items-center w-100">
                            <textarea id="chat_input_session" class="form-control me-2  p-3" rows="1" placeholder="Nh·∫≠p tin nh·∫Øn..." maxlength="1000"></textarea>
                            <button type="submit" class="btn btn-primary  p-3"><i class="bi bi-send"></i> ‚û§</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal ch·ªânh s·ª≠a -->
    <div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="editModalLabel">üìù Ch·ªânh s·ª≠a cu·ªôc tr√≤ chuy·ªán</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="ƒê√≥ng"></button>
            </div>
            <div class="modal-body">
                <label for="chatTitle" class="form-label">Ti√™u ƒë·ªÅ cu·ªôc tr√≤ chuy·ªán:</label>
                <input type="text" class="form-control" id="chatTitle" placeholder="Nh·∫≠p ti√™u ƒë·ªÅ m·ªõi...">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="saveChangesBtn">‚úÖ C·∫≠p nh·∫≠t</button>
            </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
            <div class="modal-header bg-danger text-white">
                <h5 class="modal-title" id="deleteModalLabel">‚ö†Ô∏è X√°c nh·∫≠n x√≥a</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="ƒê√≥ng"></button>
            </div>
            <div class="modal-body">
                B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a cu·ªôc tr√≤ chuy·ªán n√†y kh√¥ng? H√†nh ƒë·ªông n√†y kh√¥ng th·ªÉ ho√†n t√°c.
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">‚ùå H·ªßy</button>
                <button type="button" class="btn btn-danger" id="confirmDeleteBtn">üóëÔ∏è X√≥a</button>
            </div>
            </div>
        </div>
    </div>


    <script>
        // N·∫øu chat_data l√† None th√¨ g√°n m·∫£ng r·ªóng
        window.chatData = {{ chat_data | tojson | safe }};
    </script>
  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.3.0/marked.min.js"></script>
  <link rel="stylesheet" href="/static/css/style.css">
  <script src="/static/js/script.js"></script>
</body>
</html>
